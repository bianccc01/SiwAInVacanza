<!DOCTYPE html>
<html>

<head>
	<title>
		SiwAInVacanza - Destinazioni
	</title>
	<link rel="stylesheet" href="/css/stile.css" />
</head>

<body>
	<header>
    <a class = "home" href="/"> Home </a>
		
    <div th:if="${#request.userPrincipal}">
    		<span th:text="'Bentornato ' + ${#request.userPrincipal.principal.username}"></span>
    		<span href="/authenticated/userDetails">>Vai al tuo account </span>
    		<a href="/logout">Logout</a>
		</div>

		<div th:unless="${#request.userPrincipal}">
			<a href="/login">Login</a>
		</div>
	</header>

	<div class = "logo"><img src="/images/SiwVLogo.png" width="20%" /></div>
	<h1>Lista di destinazioni</h1>
  
  
  <form th:action="@{/guest/cercaDestinazioni}" method="post" class="search-form">
    <label for="searchInput" class="search-label"> <p> Ricerca per nome </p> </label>
  <div class="search-bar">
    <input type="text" th:value="${nome}" name="nome" id="searchInput" class="boxricerca" />
    <input type="submit" class="search-button"/>
  </div>
</form>

<ul>
  <li th:each="d : ${destinazioni}">
  <div class = "boxdestinazione">
    <img th:if="${#lists.isEmpty(d.images)}" src="/images/SiwVLogo.png" />
    <img th:else th:src="@{'data:image/png;base64,' + ${d.firstImage}}"/>
		<a class = "nome" th:href="@{'/guest/destinazione' + '/' + ${d.id} + '/' + ${d.firstImageId}}"
				th:text="${d.nome}"> Ibiza</a>
		<a class = "nome" th:href="@{'/guest/destinazione' + '/' + ${d.id} + '/' + ${d.firstImageId}}"
				th:text="${d.nome}"> Ibiza</a>
	</div>
</li>
</ul>
  

</html>